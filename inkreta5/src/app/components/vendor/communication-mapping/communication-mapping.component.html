<mat-drawer-container class="example-container" autosize>

  <mat-drawer #drawer1 class="sidenav" mode="side" position="end" style="width: 50%;border:1px solid #dfdfdf ;">
    <div class="todoForm_block">
      <mat-card>
        <div class="divend_button">
          <h3 style="font-weight: 600;">Add Communication</h3>
          <button type="button" class="btn-close" aria-label="Close" (click)="drawer1.toggle()"></button>
        </div>
        <mat-tab-group>
          <mat-tab label="Details Tab" class="mat-tab-labels">
            <!-- <button type="button" class="btn-close" aria-label="Close" (click)="drawer1.toggle()"></button> -->
          </mat-tab>
        <!-- </mat-tab-group> -->
        <mat-tab label="Audit">
        </mat-tab>
      </mat-tab-group>
        <!-- </div> -->
        <form [formGroup]="receipentForm" (ngSubmit)="onSubmit()">
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label>Gstins <span style='color: red'>*</span></label>
                <!-- <input class="form-control" type="text" placeholder="" aria-label="default input example"> -->

              
                  <mat-select  class="form-select"  [formControl]="toppings" multiple  [style.borderBottom]="'1px solid #ccc'">
                    <mat-option *ngFor="let topping of gstinList" [value]="topping">{{topping}}</mat-option>
                  </mat-select>
                

                <!-- <mat-select class="form-select"  [formControl]="toppings"multiple
                  [style.borderBottom]="'1px solid #ccc'">
                  <mat-select-trigger>
                    <div class=""> -->
                      <!-- <mat-chip-list style="flex: 0 0 auto;"> -->
                      <!-- <mat-chip *ngFor="let topping of f.recipientGstinMappings.value">
                        {{ topping }}
                      </mat-chip> -->
                      <!-- </mat-chip-list> -->
                    <!-- </div>
                  </mat-select-trigger> -->
                  <!-- <mat-option value="">Select</mat-option> -->
                  <!-- <mat-option *ngFor="let topping of gstinList" [value]="toppings">
                    {{topping}}
                  </mat-option>
                </mat-select> -->
                <!-- <ng-multiselect-dropdown style="margin: auto;" 
                                [placeholder]="'select gstins'"  [data]="gstinList"  [settings]="dropdownSettings"   (onSelect)=onItemSelect($event) >
                              </ng-multiselect-dropdown> -->
                <!-- <ng-multiselect-dropdown  style="margin: auto;" name="GSTIN"
                                  [placeholder]="'select gstins'" [data]="gstinList" [formControl]="toppings"
                                  [disabled]="disabled" [settings]="dropdownSettings" (onSelect)=onItemSelect($event)
                                  >
    
                                </ng-multiselect-dropdown> -->
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label>Delivery Mode</label>
                <select class='form-select form-control' formControlName="deliveryMode" name="deliveryMode"
                  ngDefaultControl [(ngModel)]="selectedValue">
                  <option value=''>select</option>
                  <option value="email">Email</option>
                  <option value="webservice">WebService</option>
                  <option value="">None</option>
                </select>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label>Title</label>
                <input class="form-control " type="text" placeholder="" formControlName="recipientTag"
                aria-label="default input example">
              </div>
            </div>
          </div>

          <div formArrayName="recipientEmailMappings" *ngIf="selectedValue == 'email'">
            <div class="row">
              <div class="col-md-6" [formGroup]="email">
                <div class="form-group">
                  <label>Email Address</label>
                  <input class="form-control" type="text" placeholder="" formControlName="emailAddress"
                    name="emailAddress" ngDefaultControl aria-label="default input example">
                </div>
              </div>
            </div>
          </div>


          <div formArrayName="recipientWebserviceMappings">
            <div *ngIf="selectedValue == 'webservice'" [formGroup]="webservice">
              <div class="row">
                <div class="col-md-12">
                  <div class="form-group">
                    <label>URL</label>
                    <input class="form-control" type="text" placeholder="" formControlName="url" name="url"
                      ngDefaultControl aria-label="default input example">
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label>User Name</label>
                    <input class="form-control" type="text" placeholder="" formControlName="userName" name="userName" [(ngModel)]="userName"
                      ngDefaultControl aria-label="default input example">
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label>Password</label>
                    <input class="form-control" type="password" placeholder="" formControlName="password"
                      name="password" ngDefaultControl aria-label="default input example">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">

              <div class="form-group">
                <div class="mb-3">
                  <label className="pop_label">Description</label>
                  <textarea formControlName="description" name="description" ngDefaultControl class="form-control"
                    id="descriptionid" rows="4" [(ngModel)]="fruit.description" [maxlength]="maxChars"
                    required></textarea>
                  <div class="form-row__description">
                    Remaining {{fruit.description.length}}/{{maxChars}} characters
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class='btn_right mt-2'>
            <button class=" btn btn_primary" color="primary" style="margin-right: 10px;" type="submit">Submit</button>
            <!-- <button mat-raised-button color="primary" style="margin-right: 20px;"  (click)="openDialog()">Modal</button> -->
            <button class=" btn btn-light " color='primary' (click)="goback()">Cancel</button>
          </div>
        </form>
      </mat-card>
    </div>







  </mat-drawer>

  <app-commapgrid [drawer1]="drawer1" noofrows=8 tablewidth="100%" (childEvent)="sidenav=$event" (index)="index=$event" (details)="details=$event" [search]="search"> </app-commapgrid>
</mat-drawer-container>
