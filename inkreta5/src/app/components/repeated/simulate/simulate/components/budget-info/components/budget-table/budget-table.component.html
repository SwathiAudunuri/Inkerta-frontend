<mat-progress-spinner [mode]="'indeterminate'" *ngIf="loading">
</mat-progress-spinner>

<div>
    <table mat-table matSort [dataSource]="dataSource" class="mat-elevation-z8">
        <ng-container matColumnDef="name">
          <th mat-header-cell mat-sort-header *matHeaderCellDef > Name </th>
          <td mat-cell *matCellDef="let element"> {{element.budgetName}} </td>
        </ng-container>
        
        <ng-container matColumnDef="Category">
          <th mat-header-cell mat-sort-header *matHeaderCellDef > Category </th>
          <td mat-cell *matCellDef="let element"> 
              {{element.budgetCategory}} 
          </td>
        </ng-container>

        <ng-container matColumnDef="type">
          <th mat-header-cell mat-sort-header *matHeaderCellDef > Type </th>
          <td mat-cell *matCellDef="let element"> 
              {{element.budget_type}} 
          </td>
        </ng-container>

        <ng-container matColumnDef="value">
          <th mat-header-cell mat-sort-header *matHeaderCellDef > Value </th>
          <td mat-cell *matCellDef="let element"> {{element.budget_value | currency:element.budget_currency }} </td>
        </ng-container>

        <ng-container matColumnDef="occurs">
          <th mat-header-cell mat-sort-header *matHeaderCellDef > Occurs </th>
          <td mat-cell *matCellDef="let element" > 
            {{element.budget_occurs }}
          </td>
        </ng-container>

        <ng-container matColumnDef="starts_on">
          <th mat-header-cell mat-sort-header *matHeaderCellDef > Starts On </th>
          <td mat-cell *matCellDef="let element"> 
            {{element.budget_starts_on }}
          </td>
        </ng-container>

        <ng-container matColumnDef="ends_on">
            <th mat-header-cell mat-sort-header *matHeaderCellDef > Ends On </th>
            <td mat-cell *matCellDef="let element"> 
              {{element.budget_ends_on }}
            </td>
          </ng-container>

          <ng-container matColumnDef="action">
            <th mat-header-cell mat-sort-header *matHeaderCellDef > Action </th>
            <td mat-cell *matCellDef="let element"> 
                <button mat-button [ngClass]="'MuiIconButton-root'" class="action_btn"
                (click)="$event.stopPropagation()"
                 [matMenuTriggerFor]="menu"
                >
                <mat-icon><span class="circle">settings</span>
                </mat-icon>
              </button>
              <mat-menu #menu="matMenu"  xPosition="after"   >
                <span *ngFor="let item of Action">
                    <!-- (click)="openDialog(item,element)" -->
                  <button mat-menu-item class="circle"  backdrop="static">{{item}}</button>
                </span>
              </mat-menu>

            </td>
          </ng-container>
      
        <tr mat-header-row  *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[8, 10, 25, 100]" aria-label="Select page of users"></mat-paginator>
</div>